<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>jQuery Mobile 웹 응용 프로그램</title>
<link href="jquery.mobile-1.4.5.min.css" rel="stylesheet" type="text/css"/>
<script src="jquery.js" type="text/javascript"></script>
<script src="jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
<script src="jquery.min.js"></script>

<!-- 함수와 CSS 파일 경로 -->
<script src="function/member_write_functions.js"  type="text/javascript"></script>
<link href="css/member_style.css" rel="stylesheet" type="text/css"/>
<!-- 

<script type="text/javascript">
function id_chk(){
	$("#id_check").click(function(){
		var id =$("#id").val();
		$.ajax({
			url:"id_check.jsp",
			type:"POST",
			dataType:"html",
			data:({
				id
			}),
			success: function(data){
				if (data){
					$("#idHelper").html(data);
				}else {
					$("#idHelper").html(data);
				}
			}//end success
		});//end ajax
		return false;
	});//end click
};

</script>
-->

<script type="text/javascript">
var isRun = false;
$(function(){
	$("#id_check").off().on("click",function(){
		if ( (document.writeform.id.value.indexOf(" ") > -1) ){
			$("#idHelper").text("공백 없이 입력해 주세요.");
			//비밀번호에 포커스
			$("#id").focus();
			return false;
		}else if ( ($("#id").val().length < 2) ){
			$("#idHelper").text("최소 2자리 이상 입력해 주세요.");
			//비밀번호에 포커스
			$("#id").focus();
			return false;
		}
		isAjaxing = true;
		var id =$("#id").val();
		$.ajax({
			url:"id_check.jsp",
			type:"POST",
			dataType:"html",
			data:({
				id
			}),
			success: function(data){
				if (data){
					$("#idHelper").html(data);
					setTimeout(function() {
						isAjaxing = false;
					}, 3000);
					return false;
					if(data.length < 2){
						$("#idHelper").text("최소 2자리 이상 입력해 주세요.");
						//비밀번호에 포커스
						$("#id").focus();
						return false;
					}
				}else {
					$("#idHelper").html(data);
					setTimeout(function() {
						isAjaxing = false;
					}, 3000);
					return false;
				}
			},//end success
			error: function(data){
				alert("오류가 발생했습니다.");
			}
		});//end ajax
		$("#idHelper").text("");
		return false;
	});//end click
});

</script>

</head> 
<body> 

<div data-role="page" id="page" >
	<div data-role="header" data-theme="b">
		<h1>회원 가입 창</h1>
	</div>
	<div data-role="content">
       	<form name="writeform" method="post" action="member_write2.jsp">
            <table>
                 <tr>
                    <td><!-- 성명-->
                    	<input type="text"  name="name" id="name" maxlength="10"  placeholder="이름 한글 또는 영문만 입력 가능" data-mini="true" >
                    	&nbsp;<span id="nameHelper"></span>
                    </td>
                    <td></td>
               	</tr>
            	<tr>
                	<td><!-- 아이디 -->
	                    <input type="text" name="id" id="id"  size="28px" maxlength="10" placeholder="아이디 6~50자 영문/숫자" data-mini="true">
	                    &nbsp;<span id="idHelper"></span>&nbsp;
	               </td><!--값을 비워서 없는 것처럼 보이게 하기-->
                    <td>
                    	<!--  <span id="idHelper"></span>-->
                    	<input type="button" value="중복체크"  id="id_check" onclick="id_chk()" data-role="button"data-mini="true" data-theme="b">&nbsp;
                   	</td>
                </tr>
                <tr>
                    <td><!-- 패스워드 -->
                    	<input type="password" name="passwd"  id="passwd" maxlength="12"  placeholder="비밀번호 6~20자 영문.숫자 조합" data-mini="true">   
                    	&nbsp;<span id="passwordHelper"></span>
                    </td>
                    <td></td>
               	</tr>
               	
                 <tr>	
					<td><!-- 패스워드 확인 -->
						<input type="password" name="repasswd"  id="repasswd" maxlength="12" placeholder="비밀번호 확인"data-mini="true">
						&nbsp;<span id="repasswordHelper"></span>
					</td>
                    <td></td>
				</tr>
                <tr>
                    <td><!-- 닉네임-->
                    	<input type="text" name="nickname"  id="nickname" maxlength="10" placeholder="닉네임" data-mini="true">
                    	&nbsp;<span id="nicknameHelper"></span>
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td><!-- 전화번호-->
                    	<input type="text" name="tel"  id="tel" placeholder="휴대폰 번호(-제외)" maxlength="13"data-mini="true">
                    	&nbsp;<span id="telHelper"></span>
                    </td>
                    <td></td>
                </tr>
                
                <tr>
                    <td><!-- 이메일 -->
                    	<input type="text" name="email1"  id="email1" placeholder="oooo" data-mini="true">
                    	&nbsp;<span id="email1Helper"></span>
                    </td>
                    <td></td>    
                </tr>             
                <tr>
                    <td><input type="submit"  value="등록"  id="s_insert"  data-mini="true" onclick="id_chk()" data-theme="b"></td>
                    <td><input type="reset" value="다시 작성" data-mini="true" data-theme="b"></td>
                </tr>
            </table>
        </form>
	</div>		
	<div data-role="footer" data-position="fixed" data-theme="b">
		<h4>footer 영역</h4>
	</div>
</div>
</body>
</html>
